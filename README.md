# 학교생활도우미 (School Life Helper)

광주동신여자고등학교를 위한 학생 생활 지원 시스템입니다. 출력용 디스플레이와 제어용 디바이스가 실시간으로 연결되어 학사일정, 급식, 교실 배치, 공지사항 등을 효율적으로 관리할 수 있습니다.

## 🌟 주요 기능

### 📱 듀얼 디바이스 시스템
- **출력용 디바이스**: 대형 화면에 정보 표시
- **제어용 디바이스**: 터치스크린으로 출력 내용 제어
- **실시간 연결**: Firebase를 통한 실시간 데이터 동기화
- **PIN 기반 연결**: 6자리 PIN 코드로 안전한 디바이스 페어링
- **자동 감지**: 관리자 접속 전 연결된 디바이스 자동 인식

### 📅 학사일정 관리
- **월간/주간 뷰**: 달력 형태로 학사일정 표시 (기본값: 주간)
- **학년별 표시**: 1학년, 2학년, 3학년 대상 일정 구분
- **네비게이션**: 이번주/다음주, 이번달/다음달 자동 전환
- **현재 월만 표시**: 월간 뷰에서 다음 달 날짜 숨김 처리
- **실시간 업데이트**: 관리자가 추가/수정한 일정 즉시 반영

### 🍽️ 급식 정보
- **포스터 스타일**: 시각적으로 매력적인 급식 정보 디스플레이
- **일별 급식**: 오늘, 어제, 내일 급식 메뉴 표시
- **알레르기 정보**: 알레르기 유발 식품 정보 제공
- **메뉴 상세**: 점심, 저녁 메뉴를 구분하여 표시
- **실시간 전환**: 점심/저녁 자동 전환 기능

### 🗺️ 교실 배치
- **캠퍼스 맵**: 학교 내 건물 및 교실 위치 안내
- **이미지 업로드**: 관리자가 직접 캠퍼스 맵 이미지 업로드 가능

### 📢 공지사항
- **실시간 공지**: 새로운 공지사항 즉시 표시
- **조회수 추적**: 공지사항별 조회수 자동 증가
- **페이지네이션**: 이전/다음 공지사항 이동
- **줄바꿈 지원**: 공지사항 내용 줄바꿈 표시

### 🚨 메인 공지사항 (NEW!)
- **PIN별 타겟팅**: 특정 출력 디바이스에만 표시되는 중요 공지사항
- **전체 화면 표시**: 정상 화면을 덮고 전체 화면으로 공지사항 표시
- **실시간 편집**: 활성화된 공지사항 실시간 수정 가능
- **제어 차단**: 공지사항 표시 중 다른 조작 일시 중단

### 🔐 관리자 시스템
- **데이터 관리**: 학사일정, 급식, 공지사항 CRUD 기능
- **연결 관리**: 활성 연결 상태 모니터링 및 관리
- **이미지 관리**: 캠퍼스 맵 이미지 업로드/관리

## 🛠️ 기술 스택

### Frontend
- **React 19.1.1**: 최신 React 버전으로 개발
- **React Router DOM 7.9.3**: 클라이언트 사이드 라우팅
- **Vite 7.1.7**: 빠른 개발 서버 및 빌드 도구

### Backend & Database
- **Firebase 12.3.0**: 
  - Firestore: 실시간 데이터베이스
  - Storage: 이미지 파일 저장
  - Authentication: 관리자 인증

### Development Tools
- **ESLint**: 코드 품질 관리
- **GitHub Pages**: 정적 사이트 호스팅
- **gh-pages**: 자동 배포 도구

## 🚀 설치 및 실행

### 1. 프로젝트 클론
```bash
git clone https://github.com/swon8468/simpleInfo.git
cd simpleInfo
```

### 2. 의존성 설치
```bash
npm install
```

### 3. Firebase 설정
1. Firebase 프로젝트 생성
2. Firestore Database 활성화
3. Storage 활성화
4. `src/firebase.js` 파일에 Firebase 설정 정보 입력

### 4. 개발 서버 실행
```bash
npm run dev
```
- 로컬 서버: `http://localhost:3000/simpleInfo/`
- 네트워크 접근: `http://0.0.0.0:3000/simpleInfo/`

### 5. 프로덕션 빌드
```bash
npm run build
```

## 📱 사용 방법

### 출력용 디바이스 설정
1. 브라우저에서 `http://localhost:3000/simpleInfo/` 접속
2. "출력용" 버튼 클릭
3. 생성된 PIN 코드 확인
4. 제어용 디바이스에서 PIN 코드 입력하여 연결

### 제어용 디바이스 설정
1. 브라우저에서 `http://localhost:3000/simpleInfo/` 접속
2. "제어용" 버튼 클릭
3. 출력용 디바이스의 PIN 코드 입력
4. 연결 완료 후 원하는 기능 선택

### 관리자 모드 접속
1. URL에 `?admin=true` 추가: `http://localhost:3000/simpleInfo/?admin=true`
2. 관리자 비밀번호 입력: `swon8468`
3. 데이터 관리 및 시스템 설정

## 🔧 주요 컴포넌트

### 출력용 컴포넌트
- `OutputMain.jsx`: 메인 출력 화면
- `OutputLoading.jsx`: 연결 대기 화면

### 제어용 컴포넌트
- `ControlMain.jsx`: 제어 메인 화면
- `ControlSchedule.jsx`: 학사일정 제어
- `ControlMeal.jsx`: 급식 정보 제어
- `ControlAnnouncement.jsx`: 공지사항 제어
- `ControlRoadmap.jsx`: 교실 배치 제어

### 서비스
- `ConnectionDB.js`: 실시간 연결 관리
- `DataService.js`: Firebase 데이터 관리

## 🌐 배포

### GitHub Pages 배포
```bash
npm run deploy
```

### 수동 배포
```bash
npm run build
# dist 폴더를 웹 서버에 업로드
```

## 📊 데이터베이스 구조

### Collections
- `schedules`: 학사일정 데이터
- `meals`: 급식 메뉴 데이터
- `announcements`: 공지사항 데이터
- `connections`: 디바이스 연결 상태
- `settings`: 시스템 설정 (알레르기 정보 등)

### 주요 필드
- **학사일정**: `eventDate`, `title`, `target` (학년)
- **급식**: `date`, `lunch`, `dinner` (메뉴 배열)
- **공지사항**: `title`, `content`, `views`, `createdAt`

## 🔒 보안

- 관리자 인증 시스템
- 세션 기반 연결 관리
- Firebase 보안 규칙 적용

## 📝 라이선스

이 프로젝트는 교육 목적으로 개발되었습니다.

## 👥 개발자

- **개발자**: swon8468
- **GitHub**: [https://github.com/swon8468/simpleInfo](https://github.com/swon8468/simpleInfo)
- **라이브 데모**: [https://swon8468.github.io/simpleInfo](https://swon8468.github.io/simpleInfo)

## 🆕 최근 업데이트

### v1.5.0 (2024-12-20) - 주요 기능 개선
- 🆕 **메인 공지사항 시스템**: PIN별 대상 공지사항 전송 및 실시간 표시
- 🆕 **관리자 패널 탭 확장**: 메인 공지사항 관리 새로운 탭 추가
- 🆕 **모바일 최적화**: 관리자 페이지 반응형 디자인 개선
- 🔧 **실시간 스냅샷**: Firebase 스냅샷 리스너로 즉시 데이터 업데이트
- 🔧 **PIN 연결 개선**: 관리자 접속 전 연결된 PIN 자동 감지
- 🎨 **급식 화면**: 포스터 스타일 디자인으로 개선
- 🎨 **캘린더 헤더**: 월간/주간 뷰 일관된 디자인 적용
- ✨ **줄바꿈 지원**: 공지사항 내용 줄바꿈 표시 개선

### v1.4.0 (2024-12-19) - PWA 지원 추가
- 🆕 **Progressive Web App**: 모바일 앱처럼 설치 및 사용 가능
- 🔧 **서비스 워커**: 오프라인 캐싱 및 성능 최적화
- 📱 **모바일 호환성**: 스마트폰/태블릿 최적화

### v1.3.0 (2024-12-19) - 학사일정 개선
- 🔧 **기본 뷰 변경**: 학사일정 기본 뷰를 주간으로 설정
- 🔧 **네비게이션 텍스트**: 이번주/다음주 형태로 변경
- 🎨 **컨트롤 디자인**: 연결됨 상태 표시 일관성 개선

### v1.2.0 (2024-12-19) - 출력화면 개선  
- 🎨 **급식 포스터**: 시각적으로 매력적인 급식 정보 표시
- 🔧 **PIN 표시**: 연결된 PIN 코드 출력화면 표시
- 🎨 **디자인 일관성**: 연결됨 상태 표시 통일

### v1.1.0 (2024-12-18) - 캘린더 최적화
- 🔧 **월간 캘린더**: 현재 월만 표시되도록 개선
- 🔧 **요일 헤더**: 일관된 파란색 배경 적용
- 📏 **최소 너비**: 테이블 셀 최소 너비 설정
- 🔧 **시간대 수정**: 관리자 날짜 등록 로직 개선

### v1.0.0 (2024-12-17)
- ✅ 듀얼 디바이스 실시간 연결 시스템 구현
- ✅ 학사일정 월간/주간 뷰 기능
- ✅ 급식 정보 및 알레르기 안내
- ✅ 교실 배치 이미지 업로드 기능
- ✅ 공지사항 관리 시스템
- ✅ 관리자 대시보드 구현
- ✅ Firebase 실시간 데이터베이스 연동
- ✅ GitHub Pages 자동 배포 설정

---

**학교생활도우미**로 더 나은 학교 생활을 경험해보세요! 🎓✨